(function(b){"undefined"!==typeof define&&define.u?define(function(){return b()}):window.Dialog=b()})(function(){function b(a){this.s(a);this.j(a);this.create();return this.callee}var l=/<script(\s|\S)*?>|<\/script(\s|\S)*?>/g,h=/<script(\s|\S)*?(\s|\S)*?<\/script(\s|\S)*?>/g,m=/(\/\*(\s|\S)*?\*\/)|<!-{2,}(\s|\S)*?-{2,}>|^\/\/.*|(\/\/.*)/g,k=Object.prototype.hasOwnProperty,g=Object.create(null);b.prototype.j=function(a){this.url=a+".dtnc";this.message={};this.scope={m:this.c(),f:this.a()};this.callee=
{f:this.a()};a={configurable:!1,enumerable:!1,writable:!1};Object.defineProperties(this.scope,{on:a,emit:a})};b.prototype.s=function(a){null==a&&this.b("syntax",'option\'s prop is required: "url"')};b.prototype.create=function(){var a=this;this.h(this.url,function(c){var d=c.replace(m,"");c=d.replace(h,"");d=d.match(h);a.scope.v=c;d.forEach(function(e){a.l(e.replace(l,""))({m:a.c(),f:a.a()})})})};b.prototype.l=function(a){return Function("Message",a)};b.prototype.c=function(){return function(a,c){this.message[a]=
c.bind(this.scope)}.bind(this)};b.prototype.a=function(){return function(a,c){if(k.call(this.message,a))this.message[a](c);else this.b("error","not found message: "+a)}.bind(this)};b.prototype.h=function(a,c){if(this.i(a))c(this.g(a));else{var d=this,e=new XMLHttpRequest;e.open("get",a,!0);e.onload=function(f){200===f.target.status?(d.o(a,f.target.responseText),c(f.target.responseText)):d.b("error",'Invalid url: "'+a+'" ['+f.target.status+"]")};e.send()}};b.prototype.b=function(a,c){var d="[Dialog] "+
c;switch(a){case "error":throw Error(d);case "syntax":throw new SyntaxError(d);}};b.prototype.i=function(a){return k.call(g,a)};b.prototype.o=function(a,c){g[a]=c};b.prototype.g=function(a){return g[a]};return b});